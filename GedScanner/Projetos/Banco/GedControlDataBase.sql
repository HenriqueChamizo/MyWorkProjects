use GedControlDataBase;

CREATE TABLE Clientes(
	CLI_IND int IDENTITY,
	CLI_NUMERO int NULL,
	CLI_RAZAOSOCIAL varchar(100) NOT NULL,
	CLI_FANTASIA varchar(100) NULL,
	CLI_TELEFONE char(20) NULL,
	CLI_TELEFONE2 nchar(20) NULL,
	CLI_ENDERECO char(100) NULL,
	CLI_ENDERECO_NUMERO nchar(50) NULL,
	CLI_ENDERECO_MUNICIPIO char(100) NULL,
	CLI_ENDERECO_UF nchar(2) NULL,
	CLI_CNPJ char(20) NULL,
	CLI_IE char(30) NULL,
	CLI_IE_CASSADO bit NOT NULL,
	CLI_IE_CASSADO_DATA smalldatetime NULL,
	CLI_RESPONSAVEL char(100) NULL,
	CLI_RESPONSAVEL_CPF nchar(20) NULL,
	CLI_CONTATO_FISCAL nchar(60) NULL,
	CLI_CONTATO_CONTABIL nchar(60) NULL,
	CLI_CONTATO_PESSOAL nchar(60) NULL,
	CLI_CONTATO_LEGALIZACOES nchar(60) NULL,
	CLI_EMAIL varchar(60) NULL,
	CLI_FISCAL int NULL,
	CLI_CONTABIL int NULL,
	CLI_PESSOAL int NULL,
	CLI_LEGALIZACOES int NULL,
	CLI_CNAE char(20) NULL,
	CLI_CPR char(20) NULL,
	CLI_PERIODOBALANCOS tinyint NULL,
	CLI_ATIVO_FISCAL tinyint NULL,
	CLI_ATIVO_CONTABIL tinyint NULL,
	CLI_ATIVO_PESSOAL tinyint NULL,
	CLI_EMAIL_FISCAL varchar(50) NULL,
	CLI_EMAIL_CONTABIL varchar(50) NULL,
	CLI_EMAIL_PESSOAL varchar(50) NULL,
	CLI_EMAIL_LEGAL varchar(50) NULL,
	CLI_INICIO date NULL,
	CLI_DESLIGAMENTO date NULL,
	CLI_DESLIGAMENTO_TIPO tinyint NOT NULL,
	CLI_EMAIL_FISCAL_CC varchar(50) NULL,
	CLI_EMAIL_CONTABIL_CC varchar(50) NULL,
	CLI_EMAIL_PESSOAL_CC varchar(50) NULL,
	CLI_EMAIL_PESSOAL_CC2 varchar(50) NULL,
	CLI_EMAIL_FISCAL_CC2 varchar(50) NULL,
	CLI_EMAIL_CONTABIL_CC2 varchar(50) NULL,
	CLI_EMAIL_LEGAL_CC varchar(50) NULL,
	CLI_EMAIL_LEGAL_CC2 varchar(50) NULL,
	CLI_CCM bigint NULL,
	CLI_ENDERECO_BAIRRO varchar(100) NULL,
	CLI_ENDERECO_CEP char(10) NULL,
	CLI_AVATAR_INDEX tinyint NULL,
	CLI_ICONE_IMAGEM nchar(30) NULL,
	CLI_ICONE_CSSCLASS nchar(20) NULL,
	CLI_PERFIL_ATUAL_CLASSIFICACAO int NOT NULL,
	CLI_PERFIL_ATUAL_COMERCIO int NOT NULL,
	CLI_PERFIL_ATUAL_INDUSTRIA int NOT NULL,
	CLI_PERFIL_ATUAL_SERVICO int NOT NULL,
	CLI_PERFIL_ATUAL_PROLABORE int NOT NULL,
	CLI_PERFIL_ATUAL_FOLHA int NOT NULL,
	CLI_PERFIL_ATUAL_BALANCOS int NOT NULL,
	CLI_PERFIL_ATUAL_BLOQUEADO int NOT NULL,
	CLI_PERFIL_ATUAL_SEMMOVIMENTO int NOT NULL,
	CLI_PERFIL_ATUAL_PORTE int NOT NULL,
	CLI_PERFIL_ATUAL_TIPO int NOT NULL,
	CLI_INATIVO bit NOT NULL,
	CLI_DEPOSITO bit NOT NULL,
	CLI_CPF nchar(20) NULL,
	CLI_MATRIZ int NULL,
	CLI_UNI_PROFISSIONAL bit NOT NULL,
	CLI_ENDERECO_COMPLEMENTO nchar(50) NULL,
	CLI_CONTATO_FISCAL_EMAIL varchar(60) NULL,
	CLI_CONTATO_CONTABIL_EMAIL varchar(60) NULL,
	CLI_CONTATO_PESSOAL_EMAIL varchar(60) NULL,
	CLI_CONTATO_FISCAL_TELEFONE nchar(20) NULL,
	CLI_CONTATO_CONTABIL_TELEFONE nchar(20) NULL,
	CLI_CONTATO_PESSOAL_TELEFONE nchar(20) NULL,
	CLI_FINANCEIRO_NOME nvarchar(60) NULL,
	CLI_FINANCEIRO_EMAIL nvarchar(60) NULL,
	CLI_FINANCEIRO_TELEFONE nchar(20) NULL,
	CLI_ENDERECO_FISCAL char(100) NULL,
	CLI_ENDERECO_FISCAL_NUMERO nchar(50) NULL,
	CLI_ENDERECO_FISCAL_COMPLEMENTO nchar(50) NULL,
	CLI_ENDERECO_FISCAL_MUNICIPIO char(100) NULL,
	CLI_ENDERECO_FISCAL_UF nchar(2) NULL,
	CLI_ENDERECO_FISCAL_BAIRRO varchar(100) NULL,
	CLI_ENDERECO_FISCAL_CEP nchar(8) NULL,
	CLI_TABELA_CNAE int NULL,
	CLI_TABELA_CNAE2 int NULL,
	CLI_TABELA_CNAE3 int NULL,
	CLI_FISCAL_CELULAR1 nchar(10) NULL,
	CLI_CONTABIL_CELULAR1 nchar(10) NULL,
	CLI_PESSOAL_CELULAR1 nchar(10) NULL,
	CLI_FISCAL_CELULAR1_DDD nchar(3) NULL,
	CLI_CONTABIL_CELULAR1_DDD nchar(3) NULL,
	CLI_PESSOAL_CELULAR1_DDD nchar(3) NULL,
	CLI_FISCAL_CELULAR1_ACEITA_SMS bit NOT NULL,
	CLI_CONTABIL_CELULAR1_ACEITA_SMS bit NOT NULL,
	CLI_PESSOAL_CELULAR1_ACEITA_SMS bit NOT NULL,
	CLI_FINANCEIRO_CELULAR1 nchar(10) NULL,
	CLI_FINANCEIRO_CELULAR1_DDD nchar(3) NULL,
	CLI_FINANCEIRO_CELULAR1_ACEITA_SMS bit NOT NULL,
	CLI_IMPOSTO_RENDA_OPCAO tinyint NOT NULL,
	CLI_DECIMO_TERCEIRO_OPCAO tinyint NOT NULL,
	_CLI_PERFIL_ATUAL_IMUNE int NOT NULL,
	CLI_PERFIL_ATUAL_INATIVA int NOT NULL,
	CLI_PERFIL_ATUAL_DESONERACAO_FOLHA int NOT NULL,
	CLI_PERFIL_ATUAL_FORMA_TRIBUTACAO_IRPJ int NOT NULL,
	CLI_PERFIL_ATUAL_DECIMO_TERCEIRO int NOT NULL,
	CLI_CONSTITUICAO_DATA date NULL,
	CLI_TESTE bit NOT NULL,
	CLI_LOCACAO bit NOT NULL,
	CLI_BLOQUEIO_ACESSOU_EM smalldatetime NULL,
	CLI_DATA_ENCERRAMENTO smalldatetime NULL,
	CLI_DATA_INICIO_ENCERRAMENTO smalldatetime NULL,
	CLI_PERMITIR_UPLOAD_AVULSO bit NOT NULL,
	CLI_UNIFICAR_RETENCOES bit NOT NULL,
	CLI_UNIFICAR_RETENCOES_MATRIZ bit NOT NULL,
	CLI_PORTE nchar(1) NULL,
	CLI_TIPO nchar(1) NULL,
	CLI_CAMPO_TESTE nchar(6) NULL,
	CONSTRAINT PK_Clientes PRIMARY KEY (CLI_IND)
);

CREATE TABLE LoginsInternos(
	LOGI_IND int IDENTITY,
	LOGI_NOME varchar(120) NOT NULL,
	LOGI_CARGO nchar(50) NOT NULL,
	LOGI_EMAIL char(60) NOT NULL,
	LOGI_TELEFONE nchar(20) NOT NULL,
	LOGI_CELULAR_DDD nchar(4) NULL,
	LOGI_CELULAR nchar(20) NULL,
	LOGI_SETOR tinyint NOT NULL,
	LOGI_PWD char(20) NOT NULL,
	LOGI_ULTIMO_ACESSO smalldatetime NULL,
	LOGI_FOTO varbinary(max) NULL,
	LOGI_FOTO_DATA smalldatetime NULL,
	LOGI_ATIVO bit NOT NULL,
	LOGI_SUPERVISOR bit NOT NULL,
	LOGI_HOME_OFFICE bit NOT NULL,
	LOGI_AUDITOR bit NOT NULL,
	LOGI_DIRETORIA bit NOT NULL,
	LOGI_PROGRAMACAO bit NOT NULL,
	LOGI_TESTE bit NOT NULL,
	LOGI_ANIVERSARIO date NULL,
	LOGI_PWD_ENVIADO_EM smalldatetime NULL,
	LOGI_USUARIO_DOMINIO nvarchar(50) NULL,
	LOGI_SETOR_SELECAO tinyint NULL,
	LOGI_LOGIN_INTERNO_SELECAO int NULL,
	LOGI_DESLIGAMENTO smalldatetime NULL,
	LOGI_PRAZO_ACRESCENTAR smallint NOT NULL,
	LOGI_RECEBER_AVISO_ALTERACAO_PERFIL bit NOT NULL,
	CONSTRAINT PK_LoginsInternos PRIMARY KEY (LOGI_IND),
	CONSTRAINT IX_LoginsInternos_LOGI_EMAIL UNIQUE (LOGI_EMAIL)
);

CREATE TABLE LoginsInternosSetores(
SET_IND int IDENTITY, 
SET_DESCRICAO varchar(100) NOT NULL, 
SET_REFERENCIA int NOT NULL, 
CONSTRAINT PK_LoginsInternosSetores PRIMARY KEY (SET_IND)
);

insert into LoginsInternosSetores (SET_DESCRICAO, SET_REFERENCIA) values ('Administração', 0)
insert into LoginsInternosSetores (SET_DESCRICAO, SET_REFERENCIA) values ('Fiscal', 1)
insert into LoginsInternosSetores (SET_DESCRICAO, SET_REFERENCIA) values ('Contábil', 2)
insert into LoginsInternosSetores (SET_DESCRICAO, SET_REFERENCIA) values ('Pessoal', 3)
insert into LoginsInternosSetores (SET_DESCRICAO, SET_REFERENCIA) values ('Legalização ', 4)
insert into LoginsInternosSetores (SET_DESCRICAO, SET_REFERENCIA) values ('GED', 5)
insert into LoginsInternosSetores (SET_DESCRICAO, SET_REFERENCIA) values ('Sistema', 6)
insert into LoginsInternosSetores (SET_DESCRICAO, SET_REFERENCIA) values ('Programação', 7)

CREATE TABLE LoginsExternos(
	LOGE_IND int IDENTITY(1,1) NOT FOR REPLICATION NOT NULL,
	LOGE_NOME varchar(120) NOT NULL,
	LOGE_EMAIL char(60) NOT NULL,
	LOGE_FISCAL bit NOT NULL,
	LOGE_CONTABIL bit NOT NULL,
	LOGE_PESSOAL bit NOT NULL,
	LOGE_LEGALIZACOES bit NOT NULL,
	LOGE_GED bit NOT NULL,
	LOGE_DIRETORIA bit NOT NULL,
	LOGE_PODE_ALTERAR_DADOS bit NOT NULL,
	LOGE_PWD char(20) NOT NULL,
	LOGE_ULTIMO_ACESSO smalldatetime NULL,
	LOGE_IGNORAR_QUESTIONARIO smalldatetime NULL,
	LOGE_DATA_ULTIMA_CONFIRMACAO smalldatetime NULL,
	LOGE_DATA_ENVIO_EMAIL_CONFIRMACAO smalldatetime NULL,
	LOGE_AGUARDANDO_CONFIRMACAO bit NOT NULL,
	LOGE_CONFIRMACAO_CODIGO_ATIVACAO nchar(40) NULL,
	LOGE_ANIVERSARIO date NULL,
	LOGE_CPF nchar(12) NULL,
	LOGE_EMPRESA_PREFERENCIAL int NULL,
	LOGE_CELULAR nchar(10) NULL,
	LOGE_CELULAR_DDD nchar(4) NULL,
	LOGE_CELULAR_ACEITA_SMS bit NOT NULL,
	LOGE_CELULAR_EDITADO_EM smalldatetime NULL,
	LOGE_TELEFONE nchar(10) NULL,
	LOGE_TELEFONE_DDD nchar(4) NULL,
	LOGE_TELEFONE2 nchar(10) NULL,
	LOGE_TELEFONE2_DDD nchar(4) NULL,
	LOGE_DESLIGAMENTO smalldatetime NULL,
	CONSTRAINT PK_LoginsExternos PRIMARY KEY (LOGE_IND),
	CONSTRAINT IX_LoginsExternos UNIQUE (LOGE_EMAIL)
);

CREATE TABLE LoginsExternosEmpresas(
	LOGEE_IND int IDENTITY,
	LOGEE_LOGIN_EXTERNO int NOT NULL,
	LOGEE_EMPRESA int NOT NULL,
	CONSTRAINT PK_LoginsExternosEmpresas PRIMARY KEY (LOGEE_IND)
);

CREATE TABLE ClienteDatabase(
	BASE_IND INT IDENTITY,
	BASE_DESCRICAO VARCHAR(100) NOT NULL,
	BASE_NOMEBANCO VARCHAR(100) NOT NULL,
	BASE_USUARIO VARCHAR(100) NOT NULL,
	BASE_SENHA VARCHAR(100) NOT NULL,
	BASE_SERVER VARCHAR(100) NOT NULL,
	BASE_CLIENTE INT NOT NULL,
	CONSTRAINT PK_ClienteDatabase PRIMARY KEY (BASE_IND),
	CONSTRAINT FK_ClienteDatabase_Cliente FOREIGN KEY (BASE_CLIENTE) REFERENCES Clientes (CLI_IND)
);